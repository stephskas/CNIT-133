<!DOCTYPE html>
<html lang="en">
<!-- TOTAL AMOUNT SOLD AND TOTAL WEEKLY EARNINGS - not updating onchange, need to pass current values to function to reprocess and update display -->
<head>
    <title>CNIT 133 Homework 3 - Functions</title>
    <meta name="description" content="Interactive Web Pages-JavaScript 78194-833" />
    <meta charset="UTF-8">
    <meta name="author" content="Stephanie Sakai" />
    <link rel="stylesheet" type="text/css" href="hw3.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(document).ready(function(){
            $("#flip").click(function(){
            $("#panel").slideToggle("slow");
            });
        });

        $( function() {
            $( document ).tooltip();
          } );
    </script>
</head>

<body>
    <div class="container">
        <nav>
            <a href="h3_part1.html">Part 1</a> -
            <a class="active" href="h3_part2.html">Part 2</a> -
            <a href="h3_part3.html">Part 3</a> -
            <a href="h3_part4.html">Part 4</a>
        </nav>
        <section>
            <ul>
                <li><a href="h3_part1.html">Part 1 - Student Grade Calculator</a></li>
                <li><a class="active" href="h3_part2.html">Part 2 - Total Sales and Earnings</a></li>
                <li><a href="h3_part3.html">Part 3 - Temperature Converter</a></li>
                <li><a href="h3_part4.html">Part 4 - Multiplication Game</a></li>
            </ul>
        </section>
        <header>
            <h1>Weekly Sales and Earnings</h1>
        </header>
        
        <div id ="flip">Click to Show/Hide Instructions</div>
        <div id="panel">
                <p>
                   A large company pays its salespeople on a commission basis. The salespeople receive $200 per week, plus 9% of their gross sales for that week. For example, a salesperson who sells $5000 worth of merchandise in a week receives $200 plus 9% of $5000, or a total of $650. You have been supplied with a list of the items sold by each salesperson. The value of these items are as follows:
                   
                <table cellspacing="5">
                <tbody>
                <tr>
                <th>Item</th>
                <th>Value</th>
                </tr>
                <tr>
                <td style="border: 1px dotted gray;">1</td>
                <td style="border: 1px dotted gray;">239.99</td>
                </tr>
                <tr>
                <td style="border: 1px dotted gray;">2</td>
                <td style="border: 1px dotted gray;">129.75</td>
                </tr>
                <tr>
                <td style="border: 1px dotted gray;">3</td>
                <td style="border: 1px dotted gray;">99.95</td>
                </tr>
                <tr>
                <td style="border: 1px dotted gray;">4</td>
                <td style="border: 1px dotted gray;">350.89</td>
                </tr>
                </tbody>
                </table>
                
                <p>Create a webpage that contains a script that includes at the top of your form  a text box for the salesperson's name for the user to enter. When the user's mouse hovers over this name field, use the jQuery UI tooltip coding to display the message "Please make sure that the salesperson's name is spelled correctly". See this site for more about the <a href="http://jqueryui.com/tooltip/">jQuery UI tooltip (Links to an external site.)</a> Next input that salesperson's items sold. Then calculates how much the salesperson sold and how much they earned, and then output the results. Be sure to round the outputted results to 2 decimal places. Use form text boxes to input the number sold for each of the items 1-4. You should also check for valid numeric input (make sure the number of items sold is never negative, &lt; 0, as nobody sells negative number of items, right?) and right-justify all amounts. Here is a <a href="http://fog.ccsf.edu/~srubin/h3pt2display.html">sample display (Links to an external site.)</a> using tables and form elements.
                </p>
           </div> <!-- END PANEL DIV -->
           
        <main>
        
            <form id="salesForm">
                    <label for="repName"><h3>Sales Representative Name:</h3> </label><input type="text" id="repName" name="repname" title="Please make sure that the salesperson&apos;s name is spelled correctly">
                    <h3>Number of Items Sold:</h3>
                    <table id="salesTable">
                        <tr>
                            <th>ITEM1:</th>
                            <td><input pattern="^[1-9]\d*$" min="0" type="number" id="item1" onchange="calc()"></td>
                        </tr>
                        <tr>
                            <th>ITEM2:</th>
                            <td><input pattern="^[1-9]\d*$" min="0" type="number" id="item2" onchange="calc()"></td>
                        </tr>  
                        <tr>
                            <th>ITEM3:</th>
                            <td><input pattern="^[1-9]\d*$" min="0" type="number" id="item3" onchange="calc()"></td>
                        </tr>
                        <tr>
                            <th>ITEM4:</th>
                            <td><input pattern="^[1-9]\d*$" min="0" type="number" id="item4" onchange="calc()"></td>
                        </tr>
                  </table>
             <input type="button" value="submit" class="button_form" id="submit" onclick="calc()">
             <input type="reset"  value="reset" class="button_form" onclick="location.reload()">
        </form>
        <table id="calcTable">
            <tr>
            <th>ITEM#:</th>
            <th>PRICE:</th>
            <th class="qty">QUANTITY SOLD:</th>
            <th class="total">TOTAL:</th>
            </tr>
            <tr>
            <td>1</td>
            <td>$239.99</td>
            <td><div name="qty1" id="qty1"></div></td>
            <td><div id="sales1" name="sales1"></div></td>
            </tr>
            <tr>
            <td>2</td>
            <td>$129.75</td>
            <td><div name="qty2" id="qty2"></div></td>
            <td><div name="sales2" id="sales2"></div></td>
            </tr>
            <tr>
            <td>3</td>
            <td>$99.95</td>
            <td><div name="qty3" id="qty3"></div></td>
            <td><div name="sales3" id="sales3" ></div></td>
            </tr>
            <tr>
            <td>4</td>
            <td>$350.89</td>
            <td><div name="qty4" id="qty4"></div></td>
            <td><div name="sales4" id="sales4"></div></td>
            </tr>
            <tr>
            <td colspan="2"><p>Total Amount Sold:</p></td>
            <td rowspan><div name="amtSold" id="amtSold"></div></td>
            </tr>
            <tr>
            <td colspan="2">Total Weekly Earnings:</td>
            <td><div name="wkTotal" id="wkTotal"></div></td>
            </tr>
        </table> 
    </main>
   
    <script>
         function calc(){
             //Create reference for values entered into Number of Items Sold fields for Items 1 - 4
             var item1v = document.getElementById("item1").value;
             var item2v = document.getElementById("item2").value;
             var item3v = document.getElementById("item3").value;
             var item4v = document.getElementById("item4").value;
             //Store values for items 1-4 and calculate sales total per item (price per item * number of the item sold) 
             var item1Total = (239.99 * item1v).toFixed(2);
             var item2Total= (129.75 * item2v).toFixed(2);
             var item3Total = (99.95 * item3v).toFixed(2);
             var item4Total = (350.89 * item4v).toFixed(2); 
             //Write the Number of Items Sold values into the calc table in the quantity sold cells
             document.getElementById('qty1').innerHTML = item1v;
             document.getElementById('qty2').innerHTML = item2v;
             document.getElementById('qty3').innerHTML = item3v;
             document.getElementById('qty4').innerHTML = item4v;
             //Write the item sales totals into the calc table totals cells
             document.getElementById('sales1').innerHTML = item1Total;
             document.getElementById('sales2').innerHTML = item2Total;
             document.getElementById('sales3').innerHTML = item3Total;
             document.getElementById('sales4').innerHTML = item4Total;
             //Calculate total amount sold and return a floating point number (if value cannot be converted to a number return NaN), if the total is a valid number round total to 2 decimal places
             var total = item1Total + item2Total + item3Total + item4Total;
             total = parseFloat(total);
             total = Math.round(total * 100)/100;
             //Write the total into calc table cell for Total Amount Sold 
             document.getElementById('amtSold').innerHTML = total.toFixed(2);
             //Calculate total weekly earnings amount ($200 per week, plus 9% of gross sales for that week) and return a floating point number and round total to 2 decimal places
             var wkTotal = parseFloat((total * .09)+ 200);
             wkTotal = Math.round(wkTotal * 100)/100;
            //Write the total weekly earnings into the calc table cell for Total Weekly Earnings
             document.getElementById('wkTotal').innerHTML = wkTotal.toFixed(2);
            //Provide messaging if any quantity entered is not a number
            if (isNaN(total)){
                 document.getElementById('amtSold').innerHTML = "<emphasis>Please enter valid numbers.";
            }
            if (total < 0){
                 document.getElementById('amtSold').innerHTML = " Please enter valid numbers.";
            }
             
         }
    </script>
        
        <a class="button_back" href="index.html">BACK</a><br>

    </div>
    
    <script src="h3_part2.js"></script>

</body>
</html>
